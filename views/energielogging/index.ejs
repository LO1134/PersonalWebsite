<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/energielogging.css">
    <meta content="text/html; charset=ISO-8859-1"  http-equiv="content-type">
    <title>Slimme meter uitlezen, vandaag</title>
    <link rel="stylesheet" type="text/css"  href="/css/default.css">
    <script src="/js/Rgraph/libraries/RGraph.common.core.js"></script>
    <script src="/js/Rgraph/libraries/RGraph.bar.js"></script>              <!-- Just needed for Bar charts -->
    <script src="/js/Rgraph/libraries/RGraph.common.dynamic.js"></script>   <!-- Just needed for dynamic features -->
    <script src="/js/Rgraph/libraries/RGraph.common.annotate.js"></script>  <!-- Just needed for annotating -->
    <script src="/js/Rgraph/libraries/RGraph.common.context.js"></script>   <!-- Just needed for context menus -->
    <script src="/js/Rgraph/libraries/RGraph.common.effects.js"></script>   <!-- Just needed for visual effects -->
    <script src="/js/Rgraph/libraries/RGraph.common.key.js"></script>       <!-- Just needed for keys -->
    <script src="/js/Rgraph/libraries/RGraph.common.resizing.js"></script>  <!-- Just needed for resizing -->
    <script src="/js/Rgraph/libraries/RGraph.common.tooltips.js"></script>  <!-- Just needed for tooltips -->
    <script src="/js/Rgraph/libraries/RGraph.common.zoom.js"></script>      <!-- Just needed for zoom -->
    <script src="/js/Rgraph/libraries/RGraph.line.js"></script>             <!-- Just needed for Line charts -->
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="/js/FeedEK/FeedEk.min.js"></script>
    <script type="text/javascript" src="/js/energielogging.js" defer></script>
    <link rel="stylesheet" href="/css/weatherdata.css">
</head>
<div id='d1' style="position:absolute; top:170px; left:25px; z-index:1">  
    <canvas id="cvs" width="981" height="409">[No canvas support]</canvas>
  </div> 
  <script>

    $(document).ready( () => 
    {
 
       new RGraph.Line({
        id: 'cvs',
        data: [[<%= grafiekdata[0] %>],[<%= grafiekdata[1] %>]],
        options: {
            textAccessible: true,
            title: "Energie meting vandaag (groen is opgewekt)",
            backgroundColor: 'black',
            backgroundGridColor: '#666',
            backgroundGridVlines: false,
            backgroundGridBorder: false,
            backgroundGridAutofitNumvlines: 10,
            shadowColor: '#666',            
            ymin: <%= laagste %>,
            ymax: 2000,
            linewidth: 2,
            labels: [<%= labels %>],
            ylabelsCount: 3,
            numyticks: 3,
            backgroundGridAutofitNumhlines: 3,
            gutterBottom: 35,
            gutterLeft: 35,
            gutterRight: 35,
            shadow: false,
            textSize: 14,
            numxticks: 6, 
            numyticks: 3,
            linewidth: 2,
            textAccessible: true,
            hmargin: 3,
            outofbounds: true,
            colors: ['red', 'green'],
            backgroundImage: "/Rgraph/images/logo.png"
            
        }
    }).draw();  
   
  
    });
</script>
<div id='d2' style="position:absolute; top:1px; left:25px; z-index:1"div>  

<body> 
    <%- include('../includes/navigation.ejs') %>
    <%- include('../includes/navigation-energie.ejs') %>

    <main>
    <section>
        <div class="gauge-section" id='d2' style="position:absolute; top:6px; left:780px; z-index:1">  
            <h5>Humidity</h5>
             <div id="hum" class="gauge"></div>
        </div>

        <div class="gauge-section" id='d2' style="position:absolute; top:6px; left:930px; z-index:1"> 
             <h5>Temp</h5>
             <div id="temp" class="gauge"></div>
        </div>
    </section>
    <section>
        <div id='d2' style="position:absolute; top:600px; left:25px; z-index:1"div>  

            <p>
               Verbruik: (<%= lastafgenomen %>
               - <%= firstafgenomen %>) = <%= verschilafgenomen %> Watt, - <%= euroMin %> Euro
            </p>
            <p>   
               Opgewekt: (<%= lastopgewekt %>
               -  <%= firstopgewekt %>) = <%= verschilopgewekt %> Watt, +<%= euroPlus %> Euro  
            </p>
            <p> laatste update: <%= uur %>:<%= minute %> uur</p>
         </div id='d1' style="position:absolute; top:10px; left:25px; z-index:1"div> 
    </section>
    <section>
        <div id='d2' style="position:absolute; top:600px; left:550px; z-index:1">  
        <img src=https://img.iex.nl/charts/IssueIntraday.ashx?sc=18&Id=12272 alt="Italian Trulli" style="width:200px;height:100px;">
        </div>
        <div id='d2' style="position:absolute; top:190px; left:970px; z-index:1">  
            <IFRAME SRC="https://gadgets.buienradar.nl/gadget/radarfivedays" NORESIZE SCROLLING=NO HSPACE=0 VSPACE=0 FRAMEBORDER=0 MARGINHEIGHT=0 MARGINWIDTH=0 WIDTH=256 HEIGHT=406></IFRAME>
          </div>
    </section>
    <section>
        <div id='d2' style="position:absolute; top:720px; left:25px; z-index:1">  
             <div id="divRss"></div>
             <div id="divRss2"></div>
        </div>
    </section>
    

    </main>
<%- include('../includes/end.ejs') %>
<script src="/js/weatherdata.js"></script>
