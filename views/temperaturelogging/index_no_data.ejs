<%- include('../includes/head.ejs') %>
    <link rel="stylesheet" href="/css/energielogging.css">
    <meta content="text/html; charset=ISO-8859-1"  http-equiv="content-type">
    <title>Slimme meter uitlezen, vandaag</title>
    <link rel="stylesheet" type="text/css"  href="/css/default.css">
    <script src="/js/Rgraph/libraries/RGraph.common.core.js"></script>
    <script src="/js/Rgraph/libraries/RGraph.bar.js"></script>              <!-- Just needed for Bar charts -->
    <script src="/js/Rgraph/libraries/RGraph.common.dynamic.js"></script>   <!-- Just needed for dynamic features -->
    <script src="/js/Rgraph/libraries/RGraph.common.annotate.js"></script>  <!-- Just needed for annotating -->
    <script src="/js/Rgraph/libraries/RGraph.common.context.js"></script>   <!-- Just needed for context menus -->
    <script src="/js/Rgraph/libraries/RGraph.common.effects.js"></script>   <!-- Just needed for visual effects -->
    <script src="/js/Rgraph/libraries/RGraph.common.key.js"></script>       <!-- Just needed for keys -->
    <script src="/js/Rgraph/libraries/RGraph.common.resizing.js"></script>  <!-- Just needed for resizing -->
    <script src="/js/Rgraph/libraries/RGraph.common.tooltips.js"></script>  <!-- Just needed for tooltips -->
    <script src="/js/Rgraph/libraries/RGraph.common.zoom.js"></script>      <!-- Just needed for zoom -->
    <script src="/js/Rgraph/libraries/RGraph.line.js"></script>             <!-- Just needed for Line charts -->
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
</head>
<div id='d1' style="position:absolute; top:170px; left:25px; z-index:1">  
    <canvas id="cvs" width="981" height="409">[No canvas support]</canvas>
  </div> 
  <script>
    $(document).ready( () => 
    {
 
       new RGraph.Line({
        id: 'cvs',
        data: [[<%= grafiekdata[0] %>],[<%= grafiekdata[1] %>]],
        options: {
            textAccessible: true,
            title: "Energie meting vandaag (groen is opgewekt)",
            backgroundColor: 'black',
            backgroundGridColor: '#666',
            backgroundGridVlines: false,
            backgroundGridBorder: false,
            backgroundGridAutofitNumvlines: 10,
            shadowColor: '#666',            
            ymin: <%= laagste %>,
            ymax: <%= hoogste %>,
            linewidth: 2,
            labels: [<%= labels %>],
            ylabelsCount: 3,
            numyticks: 3,
            backgroundGridAutofitNumhlines: 3,
            gutterBottom: 35,
            gutterLeft: 35,
            gutterRight: 35,
            shadow: false,
            textSize: 14,
            numxticks: 6, 
            numyticks: 3,
            linewidth: 2,
            textAccessible: true,
            hmargin: 3,
            outofbounds: true,
            colors: ['red', 'green'],
            backgroundImage: "/Rgraph/images/logo.png"
            
        }
    }).draw();  
   
  
    });
</script>
<div id='d2' style="position:absolute; top:1px; left:25px; z-index:1"div>  

<body>
    <%- include('../includes/navigation.ejs') %>

    <main>
        <p>Total count of items: <%= count %></p>
    <section>

        <div id='d2' style="position:absolute; top:600px; left:25px; z-index:1"div>  

            <p> laatste update: <%= uur %>:<%= minute %> uur</p>
         </div id='d1' style="position:absolute; top:10px; left:25px; z-index:1"div> 
    </section>

    </main>
<%- include('../includes/end.ejs') %>